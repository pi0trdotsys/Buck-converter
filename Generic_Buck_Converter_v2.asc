Version 4
SHEET 1 1392 1020
WIRE 224 -112 160 -112
WIRE 160 -72 160 -112
WIRE 160 -64 160 -72
WIRE 224 -64 224 -112
WIRE 160 8 160 0
WIRE 160 80 160 8
WIRE 320 80 160 80
WIRE 368 80 320 80
WIRE 512 80 368 80
WIRE 784 80 640 80
WIRE 912 80 784 80
WIRE 512 112 512 80
WIRE 80 160 0 160
WIRE 160 160 160 80
WIRE 160 160 80 160
WIRE 320 160 320 80
WIRE 320 208 320 160
WIRE 368 208 368 176
WIRE 368 208 320 208
WIRE 512 208 512 176
WIRE 512 208 368 208
WIRE 320 272 320 208
WIRE 432 272 320 272
WIRE 640 272 640 80
WIRE 640 272 512 272
WIRE 0 320 0 160
WIRE 912 320 912 80
WIRE 784 336 784 80
WIRE 320 384 320 272
WIRE 464 384 320 384
WIRE 320 432 320 384
WIRE 464 448 464 384
WIRE 912 496 912 400
WIRE 320 560 320 528
WIRE 464 560 464 512
WIRE 464 560 320 560
WIRE 784 608 784 400
WIRE 912 608 912 496
WIRE 0 624 0 400
WIRE 320 624 320 560
FLAG 0 624 0
FLAG 80 160 PWM
FLAG 912 496 Vout
FLAG 224 -64 0
FLAG 784 608 0
FLAG 912 608 0
FLAG 320 624 0
SYMBOL voltage 160 24 R180
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value 100
SYMBOL nmos 320 80 R0
WINDOW 0 0 56 VBottom 2
WINDOW 3 52 44 VTop 2
SYMATTR InstName M1
SYMBOL ind 416 288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMBOL cap 768 336 R0
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100µ
SYMBOL res 896 304 R0
WINDOW 0 -17 69 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Rload
SYMATTR Value 10
SYMBOL diode 528 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL voltage 0 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 286 105 Invisible 2
SYMATTR InstName Vpwm
SYMATTR Value PULSE(0 12 0 1n 1n {1/Freq*Duty} {1/Freq})
SYMBOL nmos 272 432 R0
WINDOW 0 0 56 VBottom 2
WINDOW 3 52 44 VTop 2
SYMATTR InstName M2
SYMBOL diode 480 512 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4148
TEXT 984 80 Left 2 !.tran 0 10ms 0 1u UIC
TEXT 984 176 Left 2 !.step param Duty 0.3 0.7 0.1
TEXT 984 248 Left 2 !.param Duty=0.5
TEXT 984 280 Left 2 !.param Freq=50k
TEXT 984 360 Left 2 !.plot V(Vout) I(L1) V(PWM)
TEXT 984 392 Left 2 !.options gmin=1e-12 reltol=0.001
